# Crawler MCP Environment Configuration
GITHUB_TOKEN=your_github_token_here
# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8010
DEBUG=true
PRODUCTION=false
LOG_LEVEL=INFO
LOG_FORMAT=console
LOG_FILE=logs/crawlerr.log
LOG_TO_FILE=true
PID_FILE=logs/crawlerr.pid

# =============================================================================
# SERVICE ENDPOINTS
# =============================================================================
# Qdrant Vector Database - Performance Optimized
QDRANT_URL=http://localhost:7000
QDRANT_API_KEY=
QDRANT_COLLECTION=crawlerr_documents
QDRANT_VECTOR_SIZE=1024
QDRANT_DISTANCE=cosine
QDRANT_TIMEOUT=10.0
QDRANT_RETRY_COUNT=3
QDRANT_CONNECTION_POOL_SIZE=16
QDRANT_BATCH_SIZE=256
QDRANT_PREFETCH_SIZE=1024

# HF Text Embeddings Inference (TEI) - RTX 4070 Optimized
TEI_URL=http://localhost:8080
TEI_MODEL=Qwen/Qwen3-Embedding-0.6B
TEI_MAX_CONCURRENT_REQUESTS=80
TEI_MAX_BATCH_TOKENS=163840
TEI_BATCH_SIZE=80
TEI_TIMEOUT=60.0

# Embedding Configuration
EMBEDDING_MAX_LENGTH=8192
EMBEDDING_DIMENSION=1024
EMBEDDING_NORMALIZE=true
EMBEDDING_MAX_RETRIES=2
EMBEDDING_WORKERS=4

# Chunking Configuration (Optimized for Qwen3-Embedding-0.6B)
CHUNK_SIZE=4096
CHUNK_OVERLAP=512
WORD_TO_TOKEN_RATIO=1.4

# Reranker Configuration
RERANKER_MODEL=tomaarsen/Qwen3-Reranker-0.6B-seq-cls
RERANKER_ENABLED=true
RERANKER_TOP_K=10
RERANKER_MAX_LENGTH=512
RERANKER_FALLBACK_TO_CUSTOM=true

# =============================================================================
# CRAWLING CONFIGURATION
# =============================================================================
MAX_CONCURRENT_CRAWLS=10
MAX_CRAWL_PAGES=100

# Streaming Configuration - Single source of truth
ENABLE_STREAMING=true


# =============================================================================
# DEDUPLICATION CONFIGURATION
# =============================================================================
DEDUPLICATION_ENABLED=true
DEDUPLICATION_STRATEGY=content_hash


# =============================================================================
# CORS & SECURITY
# =============================================================================
CORS_ORIGINS=*
CORS_CREDENTIALS=true
MAX_REQUEST_SIZE=10485760
REQUEST_TIMEOUT=30.0

# =============================================================================
# FASTMCP AUTHENTICATION CONFIGURATION
# =============================================================================
# Use the Google provider
# FASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.google.GoogleProvider

# Google OAuth credentials
FASTMCP_SERVER_AUTH_GOOGLE_CLIENT_ID=your_google_client_id_here
FASTMCP_SERVER_AUTH_GOOGLE_CLIENT_SECRET=your_google_client_secret_here
FASTMCP_SERVER_AUTH_GOOGLE_BASE_URL=https://your-domain.com
FASTMCP_SERVER_AUTH_GOOGLE_REQUIRED_SCOPES=openid,https://www.googleapis.com/auth/userinfo.email
