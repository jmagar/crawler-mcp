# Optimized crawler configuration via environment variables
# Copy to .env and customize. CLI flags still override these.

# Core
OPTIMIZED_CRAWLER_MAX_URLS=1000
OPTIMIZED_CRAWLER_MAX_CONCURRENT=28
OPTIMIZED_CRAWLER_AGGRESSIVE_MODE=true
OPTIMIZED_CRAWLER_HEADLESS=true
OPTIMIZED_CRAWLER_TEXT_MODE=true
OPTIMIZED_CRAWLER_JAVASCRIPT=true

# Language filtering (default en)
OPTIMIZED_CRAWLER_ALLOWED_LOCALES=en

# TEI (Text Embeddings Inference)
OPTIMIZED_CRAWLER_EMBEDDINGS=true
OPTIMIZED_CRAWLER_TEI_ENDPOINT=http://steamy-wsl:8080
OPTIMIZED_CRAWLER_TEI_MODEL=Qwen3-0.6B
OPTIMIZED_CRAWLER_TEI_PARALLEL=10
OPTIMIZED_CRAWLER_TEI_TIMEOUT_S=20
OPTIMIZED_CRAWLER_TEI_MAX_CONCURRENT=80
OPTIMIZED_CRAWLER_TEI_MAX_CLIENT_BATCH=128
OPTIMIZED_CRAWLER_TEI_MAX_BATCH_TOKENS=163840
OPTIMIZED_CRAWLER_TEI_CHARS_PER_TOKEN=4.0
OPTIMIZED_CRAWLER_TEI_MAX_INPUT_CHARS=4000

# Qdrant
OPTIMIZED_CRAWLER_QDRANT=true
OPTIMIZED_CRAWLER_QDRANT_URL=http://steamy-wsl:7000
OPTIMIZED_CRAWLER_QDRANT_COLLECTION=crawler_pages
OPTIMIZED_CRAWLER_QDRANT_BATCH=512
OPTIMIZED_CRAWLER_QDRANT_PARALLEL=6
OPTIMIZED_CRAWLER_QDRANT_WAIT=false
# OPTIMIZED_CRAWLER_QDRANT_API_KEY=your_key_if_needed

# Discovery
OPTIMIZED_CRAWLER_DISCOVERY_TIMEOUT=10
OPTIMIZED_CRAWLER_CHECK_ROBOTS_TXT=false
OPTIMIZED_CRAWLER_USE_RATE_LIMITING=false
OPTIMIZED_CRAWLER_RESPECT_CRAWL_DELAY=false

# UI / CLI defaults
# Show progress heartbeat by default (can be overridden with --progress/--no flag logic)
OPTIMIZED_CRAWLER_PROGRESS=true
# Default number of results for --qdrant-search
OPTIMIZED_CRAWLER_SEARCH_TOPK=5

# Rerank defaults (query-time only)
# Enable local GPU reranker by default (falls back to CPU if CUDA not available)
OPTIMIZED_CRAWLER_RERANK=true
OPTIMIZED_CRAWLER_RERANK_ENDPOINT=local
# Large variant of BGE reranker
OPTIMIZED_CRAWLER_RERANK_MODEL=BAAI/bge-reranker-large
OPTIMIZED_CRAWLER_RERANK_TOPK=5
